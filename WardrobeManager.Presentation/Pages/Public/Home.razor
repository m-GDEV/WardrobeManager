@page "/"

@namespace WardrobeManager.Presentation.Pages

<PageTitle>Welcome - WardrobeManager</PageTitle>

@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using Microsoft.Extensions.Configuration


<div class="h-full flex flex-col gap-12 items-center bg-primary-content">
    <div class="flex flex-col items-center gap-1">
        <h1 class="title-text text-primary">@ProjectConstants.ProjectName</h1>
        @* fixlater *@
        <p class="subtitle-text text-primary">Welcome to the worldâ€™s first ever all-in-one wardrobe management solution</p>
        
    </div>
    <img src="/img/home-background.jpg" class="h-3/5 rounded-2xl"/>
</div>

@code {

    protected override async Task OnInitializedAsync()
    {
        // Get the current authentication state
        var authState = await _authenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        // Check if the user is authenticated
        if (user.Identity?.IsAuthenticated ?? false)
        {
            // User is authenticated, redirect to another page
            _navManager.NavigateTo("/dashboard");
        }
        
        await base.OnInitializedAsync();
    }

}